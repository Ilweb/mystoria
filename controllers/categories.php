<?phpclass Categories extends RichController{	function __construct($action)	{		parent::__construct($action);		$this->setModel('category');	}		function defaultAction()	{		$this->listAll();	}		function listAll()	{		$categories = $this->_model->select("id, title, cat_type");		$this->_template->setView('categories');		$array = array(			"title"=>$this->lang['Categories'],			"categories"=>$categories		);		$this->_template->render($array);	}		function edit()	{		if (isset($_REQUEST['id']))		{			$this->_model->load((int)$_REQUEST['id']);			$title = $this->lang['Edit category'];		}		else		{			$title = $this->lang['New category'];		}		$this->_template->setView('category_edit');		$array = array(			"title"=>$title,			"category"=>$this->_model->getProperties()		);	    $this->_template->simpleRender($array);	}		protected function proceedSave()	{		$this->_model->save();		$this->listAll();	}}?>